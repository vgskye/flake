pkgs:
let
    y = pkgs.lib.kernel.yes;
    n = pkgs.lib.kernel.no;
    m = pkgs.lib.kernel.module;
in
{
    # directly based off Google's modular config
    ARCH_QCOM = y;
    ARM_QCOM_CPUFREQ_HW = y;
    ARM_SMMU = y;
    ATH10K_SNOC = m;
    BACKLIGHT_GPIO = y;
    BT_HCIUART_QCA = y;
    COMMON_CLK_QCOM = y;
    CONFIGFS_FS = y;
    CORESIGHT = m;
    CORESIGHT_LINK_AND_SINK_TMC = m;
    CORESIGHT_SOURCE_ETM4X = m;
    CROS_EC_MKBP_PROXIMITY = m;
    CROS_EC_TYPEC = m;
    CRYPTO_MICHAEL_MIC = y;
    DEVFREQ_GOV_SIMPLE_ONDEMAND = y;
    DEVFREQ_THERMAL = y;
    DRM = y;
    DRM_MSM = y;
    DRM_PANEL_BOE_TV101WUM_NL6 = y;
    DRM_PANEL_SAMSUNG_ATNA33XC20 = y;
    DRM_PANEL_VISIONOX_RM69299 = y;
    DRM_PARADE_PS8640 = y;
    DRM_TI_SN65DSI86 = y;
    EDAC = y;
    EDAC_QCOM = y;
    EXTCON = y;
    HID_GOOGLE_HAMMER = m;
    HWSPINLOCK = y;
    HWSPINLOCK_QCOM = y;
    I2C_HID_OF = y;
    I2C_HID_OF_ELAN = y;
    I2C_HID_OF_GOODIX = y;
    I2C_QCOM_GENI = y;
    IIO_CROS_EC_SENSORS_LID_ANGLE = m;
    INTERCONNECT = y;
    INTERCONNECT_QCOM = y;
    INTERCONNECT_QCOM_OSM_L3 = y;
    INTERCONNECT_QCOM_SC7180 = y;
    LEDS_CLASS_MULTICOLOR = y;
    LEDS_PWM = y;
    MAILBOX = y;
    MEMORY = y;
    MFD_SPMI_PMIC = y;
    MMC_SDHCI_MSM = y;
    NVMEM_QCOM_QFPROM = y;
    PHY_QCOM_QMP = y;
    PHY_QCOM_QUSB2 = y;
    PINCTRL_MSM = y;
    PINCTRL_QCOM_SPMI_PMIC = y;
    PINCTRL_SC7180 = y;
    PM_DEVFREQ = y;
    PM_DEVFREQ_EVENT = y;
    PROC_KCORE = y;
    QCOM_AOSS_QMP = y;
    QCOM_APCS_IPC = y;
    QCOM_CLK_RPMH = y;
    QCOM_COMMAND_DB = y;
    QCOM_GENI_SE = y;
    QCOM_RPROC_COMMON = y;
    QCOM_IPA = m;
    QCOM_LLCC = y;
    QCOM_PDC = y;
    QCOM_Q6V5_MSS = y;
    QCOM_RMTFS_MEM = y;
    QCOM_RPMH = y;
    QCOM_RPMHPD = y;
    QCOM_SMEM = y;
    QCOM_SMP2P = y;
    QCOM_SOCINFO = y;
    QCOM_SPMI_ADC5 = m;
    QCOM_SPMI_ADC_TM5 = m;
    QCOM_SPMI_TEMP_ALARM = m;
    QCOM_STATS = m;
    QCOM_SYSMON = y;
    QCOM_TSENS = y;
    QCOM_WDT = y;
    QRTR = y;
    QRTR_SMD = y;
    RAS = y;
    REGULATOR_QCOM_RPMH = y;
    REMOTEPROC = y;
    RESET_QCOM_AOSS = y;
    RESET_QCOM_PDC = y;
    RMNET = y;
    RPMSG_CHAR = y;
    RPMSG_QCOM_GLINK_SMEM = y;
    RPMSG_QCOM_SMD = y;
    SCSI = y;
    SC_CAMCC_7180 = y;
    SC_DISPCC_7180 = y;
    SC_GPUCC_7180 = y;
    SC_LPASS_CORECC_7180 = y;
    SC_MSS_7180 = y;
    SC_VIDEOCC_7180 = y;
    SECURITY_LOADPIN_VERITY = y;
    SERIAL_DEV_BUS = y;
    SERIAL_QCOM_GENI = y;
    SERIAL_QCOM_GENI_CONSOLE = y;
    SND_DYNAMIC_MINORS = y;
    SND_SOC_QCOM = y;
    SND_SOC_SC7180 = y;
    SPI_QCOM_GENI = y;
    SPI_QCOM_QSPI = y;
    SPMI = y;
    SX9310 = m;
    SX9324 = m;
    TYPEC = y;
    USB_ONBOARD_HUB = y;
    VIDEO_QCOM_VENUS = m;
}